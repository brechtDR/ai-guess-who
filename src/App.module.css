.app {
	width: 100%;
}

.loading,
.errorContainer {
	display: flex;
	flex-direction: column;
	align-items: center;
	justify-content: center;
	height: 100vh;
	font-size: 1.5rem;
}

.restartButton {
	margin-left: var(--space-2);
	border: none;
	background: none;
	color: var(--color-primary);
	font-size: 1.2rem;
	text-decoration: underline;
	cursor: pointer;
}

.gameContainer {
	display: flex;
	flex-direction: column;
	width: 100%;
	min-height: 100vh;
	padding: var(--space-2);
	/* Add padding at the bottom to make space for the sticky chat controls on mobile */
	padding-bottom: calc(180px + var(--space-4));
	gap: var(--space-4);
}

.mainGrid {
	display: grid;
	grid-template-columns: 1fr;
	flex-grow: 1;
	gap: var(--space-4);
}

.secretCardsPanel {
	display: grid;
	grid-template-columns: 1fr 1fr;
	grid-column: 1 / -1;
	max-height: 500px; /* arbitrary large value */
	overflow: hidden;
	gap: var(--space-4);
	transition:
		max-height 0.35s ease-in-out,
		padding-top 0.35s ease-in-out,
		padding-bottom 0.35s ease-in-out,
		margin-bottom 0.35s ease-in-out;
}

.secretCardsCollapsed {
	max-height: 0;
	margin-bottom: 0 !important;
	padding-top: 0 !important;
	padding-bottom: 0 !important;
}

.secretPanelToggle {
	display: flex;
	align-items: center;
	justify-content: center;
	width: fit-content;
	margin: 0 auto;
	padding: var(--space-1) var(--space-3);
	gap: var(--space-2);
	border: none;
	border-radius: var(--border-radius-md);
	background-color: var(--color-surface-2);
	color: var(--color-text-secondary);
	font-size: 0.9rem;
	cursor: pointer;
}

.secretPanelToggle svg {
	width: 18px;
	height: 18px;
}

.sidePanel {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: var(--space-2);
}

.sidePanelTitle {
	font-weight: 700;
	font-size: 1rem;
}

.sidePanelTitlePlayer {
	composes: sidePanelTitle;
	color: var(--color-primary);
}

.sidePanelTitleAi {
	composes: sidePanelTitle;
	color: var(--color-text-secondary);
}

.boardArea {
	display: flex;
	grid-column: 1 / -1; /* Span all columns */
	flex-direction: column;
	gap: var(--space-4);
}

.boardWrapper {
	display: flex;
	flex-direction: column;
	gap: var(--space-2);
}

.boardTitle {
	font-weight: 700;
	font-size: 1.1rem;
	text-align: center;
}

/* Tablet and Desktop layout using container queries */
@container root (min-width: 820px) {
	.app {
		display: flex;
		flex-direction: column;
		justify-content: space-between;
		height: 100vh;
		overflow: hidden;
	}
	.gameContainer {
		min-height: auto;
		padding: var(--space-4);
	}

	.mainGrid {
		grid-template-rows: 1fr;
		grid-template-columns: 200px 1fr 200px;
		gap: var(--space-6);
	}

	.secretCardsPanel {
		display: contents; /* This makes the wrapper disappear and its children act as direct grid items */
	}

	.secretPanelToggle {
		display: none; /* Hide toggle on desktop */
	}

	.sidePanel:nth-child(1) {
		grid-row: 1 / 2;
		grid-column: 1 / 2;
	}

	.sidePanel:nth-child(2) {
		grid-row: 1 / 2;
		grid-column: 3 / 4;
	}

	.boardArea {
		grid-row: 1 / 2;
		grid-column: 2 / 3;
		min-height: 0;
	}

	.boardWrapper {
		flex: 1;
		min-height: 0;
	}

	.sidePanelTitle {
		font-size: 1.25rem;
	}

	.boardTitle {
		font-size: 1.25rem;
	}
}
